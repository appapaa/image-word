(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(e,t,a){e.exports=a(61)},34:function(e,t,a){},41:function(e,t,a){},61:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(25),o=a.n(s),c=(a(34),a(2)),i=a(9),l=a(1),u=a.n(l),d=function(e,t){return function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,n=arguments.length>1?arguments[1]:void 0;return n.type.indexOf(e)?a:u.a.extend({},a,n.payload)}},p=d("NAVIGATION_",{path:[{id:"Menu"}]}),m=function(){return function(e){e(v("Menu"))}},v=function(e,t){return function(a,n){a({type:"NAVIGATION_SET",payload:{path:[{id:e,params:t}]}})}},f=function(e,t){return function(a,n){window.location.hash=e;var r=n().navigation.path;a({type:"NAVIGATION_PUSH",payload:{path:u.a.union(r,[{id:e,params:t}])}})}},h=function(e){var t=window.localStorage[e];return t?window.JSON.parse(t):void 0},w=function(e,t){return window.localStorage[e]=t?JSON.stringify(t):""},y=h("words:list")||{},E=d("WORDS_",{listByWord:y,studyByWord:h("words:stydy")||{},wordsByChar:u.a.groupBy(u.a.keys(y),function(e){return e[0].toUpperCase()}),nextWord:h("words:next"),turn:h("words:turn"),step:+(h("words:step")||0)}),N=function(){return function(e,t){var a=t().words,n=a.nextWord,r=a.listByWord,s=a.studyByWord,o=0,c=[];u.a.forEach(r,function(e,t){if(t===n)return o=1;!s[t]&&c.push({word:t,index:o||Math.round(3e3*Math.random())/100}),o&&o++});var i=u.a.map(u.a.sortBy(c,"index"),"word");w("words:turn",i),e({type:"WORDS_TURN",payload:{turn:i}})}},b=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(a,n){var r=n().words.studyByWord,s=u.a.clone(r);u.a.map(e,function(e){!s[e]!==!t&&(t?s[e]=1:delete s[e])}),w("words:stydy",s),a({type:"WORDS_CHANGE_STUDY",payload:{studyByWord:s}}),a(N())}},g=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,a){var n=a().words,r=n.nextWord,s=(n.listByWord,n.turn),o=n.step;if(t(b([r],e)),!u.a.size(s)&&e)return t(m()),alert("\u0421\u043b\u043e\u0432\u0430 \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u043b\u0438\u0441\u044c, \u0443\u0445\u043e\u0434\u0438");w("words:next",u.a.first(s)),w("words:step",o+1),t({type:"WORDS_NEXT",payload:{nextWord:u.a.first(s),step:o+1}}),t(N()),t(f("Learn",{word:u.a.first(s)}))}},x=Object(i.c)({navigation:p,words:E}),O=a(4),j=a(5),k=a(7),C=a(6),_=a(8),W=(a(41),"https://image-word.000webhostapp.com/api/"),B=function(e){var t=e.children,a=e.className;return r.a.createElement("div",{className:"app-ui-screen"+(a?" "+a:"")},t)},S=function(e){var t=e.children,a=e.className;return r.a.createElement("div",{className:"app-ui-panel"+(a?" "+a:"")},t)},T=function(e){var t=e.children,a=e.className;return r.a.createElement("div",{className:"app-ui-footer"+(a?" "+a:"")},t)},I=function(e){var t=e.className,a=e.onClick,n=e.type,s=void 0===n?"":n,o=e.children,c=e.active,i=e.disabled,l=u.a.omit(e,["className","type","onClick","children","active","disabled"]);return r.a.createElement("div",Object.assign({},l,{className:"app-ui-btn"+s+(t?" "+t:"")+(c?" -active":"")+(i?" -disabled":""),onClick:i?void 0:a}),o)},A=function(e){var t=e.className,a=(e.onClick,e.src),n=u.a.omit(e,["className","src","onClick"]);return r.a.createElement("div",Object.assign({style:{backgroundImage:"url(https://image-word.000webhostapp.com/api/img/"+a+")"}},n,{className:"app-ui-image"+(t?" "+t:"")}))},M=function(e){function t(){var e,a;Object(O.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(k.a)(this,(e=Object(C.a)(t)).call.apply(e,[this].concat(s))))._onClick=function(e){var t=e.id,n=(e.text,a.props),r=n.navigationPush,s=n.nextWord,o=n.studyByWord;"Test"===t?u.a.size(o)?r(t,{word:u.a.sortBy(u.a.keys(o),function(){return Math.random()})[0]}):alert("\u041d\u0435\u0442 \u0441\u043b\u043e\u0432"):r(t,{word:s})},a.renderBtn=function(e){var t=e.id,n=e.text,s=a.props;s.navigationPush,s.nextWord;return r.a.createElement(I,{className:"app-menu-btn",key:t,onClick:function(){return a._onClick({id:t,text:n})}},n)},a}return Object(_.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){return r.a.createElement(B,{className:"app-menu"},r.a.createElement(A,{className:"app-menu-img",src:"/menu.png"}),r.a.createElement("div",{className:"app-menu-btngroup"},u.a.map(z,this.renderBtn)))}}]),t}(n.Component),z=[{id:"Test",text:"test"},{id:"Learn",text:"learn"},{id:"Exclude",text:"exclude"},{id:"__",text:"text"}];M.defaultName="MenuScreen";var G={navigationPush:f},H=Object(c.b)(function(e){var t=e.words;return{nextWord:t.nextWord,studyByWord:t.studyByWord}},G)(M),D=function(e){function t(){return Object(O.a)(this,t),Object(k.a)(this,Object(C.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this.props,t=e.navigationGoHome,a=e.data,n=void 0===a?{}:a,s=e.next,o=n.word,c=n.examples,i=n.similar,l=n.link,d=n.translation;return r.a.createElement(B,{className:"app-learn"},r.a.createElement(S,{className:"app-learn-panel"},r.a.createElement(I,{className:"app-nav-btn",onClick:t},"home")),r.a.createElement("div",{className:"app-learn-word"},o,u.a.size(i)?" / "+i.join(", "):""),r.a.createElement("div",{className:"app-learn-content"},r.a.createElement(A,{src:l}),r.a.createElement("div",{className:"app-learn-translation"},u.a.map(d,function(e){return e.word+(e.comment?" ("+e.comment+")":"")}).join(", ")),r.a.createElement("div",{className:"app-learn-examples"},c?c.join("\n"):"")),r.a.createElement("div",{className:"app-learn-footer"},r.a.createElement(I,{className:"app-learn-btn",onClick:function(){return s()}},"show later"),r.a.createElement(I,{className:"app-learn-btn",active:!0,onClick:function(){return s(!0)}},"got it")))}}]),t}(n.Component);D.defaultName="LearnScreen";var P={navigationGoHome:m,next:g},L=Object(c.b)(function(e,t){return{data:e.words.listByWord[t.word]}},P)(D),R=function(e){function t(){var e,a;Object(O.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(k.a)(this,(e=Object(C.a)(t)).call.apply(e,[this].concat(r)))).state={list:[],answers:[],answersInverse:[],selects:[],firstTranslation:null,listInvers:[],cnt:null,inverse:!1,answered:!1},a._onInverse=function(){var e=a.state,t=e.inverse;!e.answered&&a.setState({inverse:!t,selects:[]})},a._changeSelects=function(e){var t=a.state,n=t.selects;!t.answered&&a.setState({selects:u.a.includes(n,e)?u.a.without(n,e):u.a.union(n,[e])})},a._onAnswer=function(){var e=a.state,t=e.answered,n=e.answersInverse,r=e.answers,s=e.inverse,o=e.selects;if(!t){var c=s?n:r;a.setState({answered:!0,cnt:u.a.size(o)>u.a.size(c)?u.a.size(u.a.difference(o,c)):u.a.size(u.a.difference(c,o))})}},a._next=function(){(0,a.props.navigationGoHome)()},a}return Object(_.a)(t,e),Object(j.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.listByWord,a=e.word,n=e.data,r=[],s=[],o=n.translation[0].word;u.a.forEach(u.a.sortBy(t,function(){return Math.random()}).slice(0,20),function(e){e.word!==a&&(r=r.concat(u.a.map(e.translation,"word")),s=s.concat([e.word]))}),r=u.a.sortBy(u.a.union(u.a.map(n.translation,"word"),r).slice(0,8),function(){return Math.random()}),s=u.a.sortBy(u.a.union([a],s).slice(0,8),function(){return Math.random()});var c=u.a.filter(s,function(e){return!!u.a.find(t[e].translation,function(e){return e.word===o})});this.setState({list:r,listInvers:s,firstTranslation:o,answers:u.a.intersection(u.a.map(n.translation,"word"),r),answersInverse:c})}},{key:"render",value:function(){var e=this,t=this.state,a=t.list,n=t.listInvers,s=t.firstTranslation,o=t.answered,c=t.cnt,i=t.answersInverse,l=t.answers,d=t.inverse,p=t.selects,m=this.props,v=m.navigationGoHome,f=m.data,h=void 0===f?{}:f,w=(m.next,h.word),y=(h.examples,h.similar),E=(h.link,h.translation,d?n:a),N=d?i:l,b=E.slice(0,4),g=E.slice(4);return r.a.createElement(B,{className:"app-test"},r.a.createElement(S,{className:"app-test-panel"},r.a.createElement(I,{className:"app-nav-btn",onClick:v},"home"),r.a.createElement("div",{className:"app-line-black"}),r.a.createElement(I,{active:d,className:"app-nav-btn",onClick:this._onInverse},"inverse")),r.a.createElement("div",{className:"app-test-content"},r.a.createElement("div",{className:"app-test-list"},u.a.map([0,1],function(t){return r.a.createElement("div",{key:"list-"+t,className:"app-test-list-"+(t?"right":"left")},u.a.map(t?g:b,function(t){return r.a.createElement(I,{active:u.a.includes(o?N:p,t),onClick:function(){return e._changeSelects(t)},key:t,className:"app-test-text_btn"},t)}))})),r.a.createElement("div",{className:"app-test-word"},d?s:w+" "+(u.a.size(y)?" / "+y.join(", "):"")),r.a.createElement("div",{className:"app-test-info"},o?0===c?"correct":(u.a.size(u.a.difference(N,p))===u.a.size(N)?"all":c)+" incorrect":u.a.size(N)>1?"Several options":"One option")),r.a.createElement("div",{className:"app-test-footer"},r.a.createElement(I,{active:o,onClick:this._onAnswer,className:"app-test-btn"},"answer"),r.a.createElement("div",{className:"app-line-black"}),r.a.createElement(I,{onClick:this._next,className:"app-test-btn"},"next")))}}]),t}(n.Component);R.defaultName="TestScreen";var U={navigationGoHome:m,next:g},J=Object(c.b)(function(e,t){var a=e.words,n=a.listByWord,r=a.studyByWord;return{data:n[t.word],listByWord:n,studyByWord:r}},U)(R),V=function(e){function t(){return Object(O.a)(this,t),Object(k.a)(this,Object(C.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this.props,t=e.data.word,a=e.studied,n=e.changeStudy;return r.a.createElement(I,{className:"app-exclude-list-item",active:a,onClick:function(){return n([t],!a)}},t)}}]),t}(n.Component);V.defaultName="ListItem";var X={changeStudy:b},Y=Object(c.b)(function(e,t){var a=e.words,n=a.listByWord,r=a.studyByWord,s=t.word;return{data:n[s],studied:!!r[s]}},X)(V),Z="ABCDEFGHIJKLMNOPQRSTUVWXYZ",q=function(e){function t(){var e,a;Object(O.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(k.a)(this,(e=Object(C.a)(t)).call.apply(e,[this].concat(r)))).state={char:"A"},a._goToChar=function(e){return a.setState({char:e})},a._goToPrevChar=function(e){return a.setState({char:Z[Z.indexOf(e)-1]})},a._goToNextChar=function(e){return a.setState({char:Z[Z.indexOf(e)+1]})},a}return Object(_.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.navigationGoHome,n=t.groups,s=void 0===n?{}:n,o=t.changeStudy,c=this.state.char,i=s[c];return r.a.createElement(B,{className:"app-exclude"},r.a.createElement(S,{className:"app-exclude-panel"},r.a.createElement(I,{className:"app-nav-btn",onClick:a},"home")),r.a.createElement("div",{className:"app-exclude-content-left"},u.a.map(Z,function(t){return r.a.createElement(I,{onClick:function(){return e._goToChar(t)},className:"app-exclude-btn-char",active:c===t,key:t},t)})),r.a.createElement("div",{className:"app-exclude-content"},r.a.createElement("div",{className:"app-exclude-content__list app-ui-scroll"},"A"!==c&&r.a.createElement(I,{className:"app-exclude-list-item",onClick:function(){return e._goToPrevChar(c)}},"previouse letter"),u.a.map(i,function(e){return r.a.createElement(Y,{key:e,word:e})}),"Z"!==c&&r.a.createElement(I,{className:"app-exclude-list-item",onClick:function(){return e._goToNextChar(c)}},"next letter")),r.a.createElement("div",{className:"app-exclude-content__before"}),r.a.createElement("div",{className:"app-exclude-content__after"})),r.a.createElement(T,{className:"app-exclude-footer"},r.a.createElement(I,{className:"app-nav-btn",onClick:function(){return u.a.size(i)&&o(i,!1)}},"deselect all")))}}]),t}(n.Component);q.defaultName="Exclude";var F={navigationGoHome:m,changeStudy:b},K=Object(c.b)(function(e){return{groups:e.words.wordsByChar}},F)(q),Q=function(e){function t(){return Object(O.a)(this,t),Object(k.a)(this,Object(C.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(j.a)(t,[{key:"renderPlugin",value:function(){var e=this.props.path,t=u.a.last(e);switch(t.id){case"Menu":return r.a.createElement(H,t.params);case"Learn":return r.a.createElement(L,t.params);case"Test":return r.a.createElement(J,t.params);case"Exclude":return r.a.createElement(K,t.params);default:return r.a.createElement("div",null,"\u041d\u0435\u0442 \u0442\u0430\u043a\u043e\u0433\u043e \u044d\u043a\u0440\u0430\u043d\u0430")}}},{key:"componentDidMount",value:function(){var e=this.props,t=e.getWords,a=e.onHashChange;t(),window.addEventListener("hashchange",a,!1)}},{key:"render",value:function(){return r.a.createElement("div",{className:"app"},this.renderPlugin())}}]),t}(n.Component),$={getWords:function(){return function(e,t,a){var n=a.ajax,r=t().words.nextWord;n("words").then(function(t){var a=t.data,n=u.a.keyBy(a,"word"),s=u.a.keys(n);u.a.size(n)&&(w("words:list",n),e({type:"WORDS_GET",payload:{listByWord:n,wordsByChar:u.a.groupBy(s,function(e){return e[0].toUpperCase()}),nextWord:r||a[0].word}}),e(N()))})}},onHashChange:function(){return function(e,t){}}},ee=Object(c.b)(function(e){return{path:e.navigation.path}},$)(Q),te=a(27),ae=(a(43),a(28)),ne=a.n(ae),re={store:{}},se=function(e){return ne()({method:"get",url:W+"get.php?name="+e,responseType:"json"}).then(function(e){return e.request.response})},oe=function(e){var t=[te.a.withExtraArgument({ajax:se})],a=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.d;return re.store=Object(i.e)(e,a(i.a.apply(void 0,t))),re.store}(x),ce=function(){o.a.render(r.a.createElement(c.a,{store:oe},r.a.createElement(ee,null)),document.getElementById("root"))};window.cordova?document.addEventListener("deviceready",ce,!1):ce()}},[[29,2,1]]]);
//# sourceMappingURL=main.9583ac97.chunk.js.map